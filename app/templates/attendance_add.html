{% extends "base.html" %}

{% block title %}Add Attendance - AI Attendance Tracker{% endblock %}

{% block content %}
<div class="form-container">
    <h1>âž• Add Attendance Record</h1>
    <p class="subtitle">Create a new attendance record for a student</p>
    
    <form method="POST" novalidate>
        {{ form.hidden_tag() }}
        
        <div class="form-group">
            {{ form.student_id.label }}
            {{ form.student_id(class="form-control") }}
            {% if form.student_id.errors %}
                <div class="error-msg">{{ form.student_id.errors[0] }}</div>
            {% endif %}
            <small class="form-text">Select student to create attendance record</small>
        </div>
        
        <div class="form-group">
            {{ form.total_lectures.label }}
            {{ form.total_lectures(class="form-control", placeholder="e.g., 50") }}
            {% if form.total_lectures.errors %}
                <div class="error-msg">{{ form.total_lectures.errors[0] }}</div>
            {% endif %}
            <small class="form-text">Total number of lectures conducted</small>
        </div>
        
        <div class="form-group">
            {{ form.attended_lectures.label }}
            {{ form.attended_lectures(class="form-control", placeholder="e.g., 45") }}
            {% if form.attended_lectures.errors %}
                <div class="error-msg">{{ form.attended_lectures.errors[0] }}</div>
            {% endif %}
            <small class="form-text">Number of lectures attended by student</small>
        </div>
        
        <div class="ai-info">
            <p><strong>ðŸ¤– AI Feature:</strong> Automatic attendance warnings</p>
            <ul>
                <li>Warning shown if attendance < 75%</li>
                <li>AI-generated improvement suggestions</li>
                <li>Percentage auto-calculated</li>
            </ul>
        </div>
        
        <div class="form-actions">
            {{ form.submit(class="btn btn-primary") }}
            <a href="{{ url_for('attendance.view_attendance') }}" class="btn btn-secondary">Cancel</a>
        </div>
    </form>
</div>

<style>
.ai-info {
    background: #e3f2fd;
    border-left: 4px solid #2196f3;
    padding: 1rem;
    margin: 1rem 0;
    border-radius: 4px;
}

.ai-info ul {
    margin: 0.5rem 0 0 1.5rem;
}
</style>
{% endblock %}
